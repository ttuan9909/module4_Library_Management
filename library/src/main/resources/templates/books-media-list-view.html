<!DOCTYPE html>
<html lang="vi"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1">
    <meta name="format-detection" content="telephone=no">
    <title>Danh sách Sách</title>

    <link th:href="@{/images/favicon.ico}" rel="icon" type="image/x-icon"/>
    <link th:href="@{/css/font-awesome.min.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/css/aos.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/css/mmenu.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/css/mmenu.positioning.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/css/style.css}" rel="stylesheet" type="text/css"/>

</head>

<body>

<header id="header" class="inner-navbar-wrapper navbar-wrapper">
    <div class="container-fluid">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" th:href="@{/}">
                <img th:src="@{/images/logo-header-v1.png}" alt="Skille"/>
            </a>

            <div class="inner-header-search">
                <form th:action="@{/book}" method="get" class="d-flex">
                    <input class="form-control" type="text" name="q" placeholder="Search Anything" th:value="${keyword}">
                    <select name="type" class="form-control mx-2" style="width: 120px;">
                        <option value="title" th:selected="${type == 'title'}">Tên sách</option>
                        <option value="category" th:selected="${type == 'category'}">Thể loại</option>
                        <option value="author" th:selected="${type == 'author'}">Tác giả</option>
                        <option value="year" th:selected="${type == 'year'}">Năm XB</option>
                    </select>
                    <button type="submit" class="btn btn-primary"><i class="fa fa-search"></i></button>
                </form>
            </div>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="nav navbar-nav ml-auto">
                    <li class="nav-item"><a class="nav-link" th:href="@{/}">Home</a></li>
                    <li class="nav-item"><a class="nav-link active" th:href="@{/book}">Books &amp; Media</a></li>
                </ul>

                <div class="header-login-btn">
                    <div sec:authorize="isAnonymous()">
                        <a th:href="@{/auth/login}" class="btn btn-light"><i class="fa fa-user"></i> Login</a>
                    </div>
                    <div class="dropdown" sec:authorize="isAuthenticated()">
                        <a class="dropdown-toggle"
                           href="#" role="button" id="userDropdownMenu"
                           data-toggle="dropdown" aria-expanded="false"
                           style="text-decoration: none; color: white !important;">
                            <i class="fa fa-user"></i>
                            <strong sec:authentication="name">user</strong>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdownMenu">
                            <a class="dropdown-item" th:href="@{/account/profile}" style="color: black !important;">
                                My Account
                            </a>
                            <div class="dropdown-divider"></div>
                            <form th:action="@{/auth/logout}" method="post" class="d-inline">
                                <button type="submit" class="btn btn-link dropdown-item" style="padding: 0.25rem 1.5rem; width: 100%; text-align: left; color: black !important; text-decoration: none;">
                                    Logout
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <div class="mobile-menu d-lg-none">
        </div>
    </div>
</header>
<section class="inner-page-banner">
    <div class="container">
        <div class="banner-header">
            <h2>Danh sách Sách</h2>
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb justify-content-center">
                    <li class="breadcrumb-item"><a th:href="@{/}">Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Sách</li>
                </ol>
            </nav>
        </div>
    </div>
</section>
<div id="content" class="site-content">
    <div id="primary" class="content-area">
        <main id="main" class="site-main">
            <div class="books-media-list">
                <div class="container">

                    <div class="row">
                        <div class="col-md-12">
                            <div class="event-search-filter">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="books-media-header">
                            </div>
                        </div>
                    </div>

                    <div class="books-media-grid-listing">

                        <div class="row" th:if="${#lists.isEmpty(books)}">
                            <div class="col-12 text-center py-5">
                                <h4>Không tìm thấy sách nào.</h4>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-6 col-lg-6 col-xl-4" th:each="book : ${books}">
                                <div class="single-book-media">
                                    <div class="book-thumb">
                                        <a th:href="@{'/book/' + ${book.bookId}}">
                                            <img th:src="@{'/images/books-media/list-view/book-media-list-1.jpg'}" alt="Book Cover">
                                        </a>
                                    </div>
                                    <div class="book-detail">
                                        <div class="book-detail-hover">
                                            <a class="category-tags bg-light-blue" th:text="${book.category?.categoryName ?: 'Chưa rõ'}">Thể loại</a>
                                        </div>
                                        <h3 class="book-media-title">
                                            <a th:href="@{'/book/' + ${book.bookId}}" th:text="${book.title}">Tên sách</a>
                                        </h3>
                                        <p><strong th:text="'Author: ' + ${book.author?.authorName ?: 'Chưa rõ'}"></strong></p>
                                        <p><strong th:text="'Năm XB: ' + ${book.publishYear}"></strong></p>

                                        <div class="card-links">
                                            <a th:href="@{'/book/' + ${book.bookId}}" class="btn btn-primary">
                                                Xem chi tiết
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <nav aria-label="Page navigation example">
                        <ul class="pagination justify-content-center">
                        </ul>
                    </nav>
                </div>
            </div>
        </main>
    </div>
</div>
<section class="staffpick-box">
</section>
<section class="testimonial-main-v3">
</section>

<footer class="site-footer site-footer-v3">
</footer>

<script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>

<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

<script th:src="@{/js/mmenu.min.js}"></script>
<script th:src="@{/js/harvey.min.js}"></script>
<script th:src="@{/js/waypoints.min.js}"></script>
<script th:src="@{/js/facts.counter.min.js}"></script>
<script th:src="@{/js/mixitup.min.js}"></script>
<script th:src="@{/js/owl.carousel.min.js}"></script>
<script th:src="@{/js/accordion.min.js}"></script>
<script th:src="@{/js/masonry.min.js}"></script>
<script th:src="@{/js/carousel.swipe.min.js}"></script>
<script th:src="@{/js/card-slider-min.js}"></script>
<script th:src="@{/js/aos.js}"></script>
<script th:src="@{/js/highlight.min.js}"></script>
<script th:src="@{/js/main.js}"></script>

</body>
</html>